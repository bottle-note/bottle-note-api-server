spring:
  main:
    allow-bean-definition-overriding: true
  application:
    name: bottle-note-test

  # Quartz 비활성화 (테스트 환경)
  quartz:
    auto-startup: false
    job-store-type: memory
  test:
    database:
      replace: none
  jackson:
    time-zone: Asia/Seoul

  # Redis 설정
  data:
    redis:
      mode: standalone
      repositories:
        enabled: false
      timeout: 15s

  # Datasource
  datasource:
    driver-class-name: org.testcontainers.jdbc.ContainerDatabaseDriver
    url: jdbc:tc:mysql:8.0.32:///bottlenote
    username: root
    password: root
  sql:
    init:
      # mode: always
      # schema-locations:
      #   - classpath:storage/mysql/init/00-init-config-table.sql
      #   - classpath:storage/mysql/init/01-init-core-table.sql
      #   # - classpath:storage/mysql/init/*.sql

  # JPA
  jpa:
    properties:
      hibernate:
        format_sql: false
        show_sql: false
        globally_quoted_identifiers: false # Hibernate 6.6에서 타입까지 백틱으로 감싸는 버그로 인해 비활성화
        use_sql_comments: false # SQL 쿼리 주석 불필요
        hbm2ddl:
          auto: validate # 스키마 검증 필수
    show-sql: true
    generate-ddl: false # SQL 스크립트로 스키마 생성
    database-platform: org.hibernate.dialect.MySQL8Dialect

# Spring Security
security:
  jwt:
    secret-key: 'c2VjdXJlU2VjcmV0S2V5MTIzNDU2Nzg5MGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QWJDRGVGR2hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlrSg=='
  nonce:
    salt: 'test-salt-value-2024'

# AWS S3
amazon:
  aws:
    accessKey: fake-access-key
    secretKey: fake-secret-key
    region: ap-northeast-2
    bucket: fake-bucket
    cloudFrontUrl: https://fake-cloudfront.net

# Profanity Filter
profanity:
  filter:
    url: https://api.profanity.kr-filter.com/api/v1

app:
  thirdParty:
    firebase-configuration-file: src/test/resources/service_account_credentials.json

apple:
  bundle-id: "com.bottlenote.official.app"

# Observability 비활성화 (테스트 환경)
management:
  tracing:
    disabled: true
  otlp:
    tracing:
      endpoint: http://localhost:4318/v1/traces
    metrics:
      export:
        enabled: false
        url: http://localhost:4318/v1/metrics
    logging:
      endpoint: http://localhost:4318/v1/logs
