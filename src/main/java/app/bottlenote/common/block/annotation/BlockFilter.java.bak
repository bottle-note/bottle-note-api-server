package app.bottlenote.common.block.annotation;

import java.lang.annotation.ElementType;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;

/**
 * 차단된 사용자의 컨텐츠를 블러 처리하는 어노테이션
 * 
 * 사용 예시:
 * @BlockFilter(
 *     userField = "authorId", 
 *     blurFields = {"reviewContent", "authorNickname", "authorProfileImage"}
 * )
 * @GetMapping("/reviews") 
 * public ResponseEntity<?> getReviews() { ... }
 */
@Target(ElementType.METHOD)
@Retention(RetentionPolicy.RUNTIME)
public @interface BlockFilter {

    /**
     * 응답 객체에서 사용자 ID를 추출할 필드명
     * 예: "authorId", "userId", "writerId"
     */
    String userField() default "authorId";
    
    /**
     * 블러 처리할 필드명 배열
     * 차단된 사용자의 경우 이 필드들이 "차단된 사용자의 글입니다"로 대체됨
     */
    String[] blurFields() default {
        "content", "reviewContent", "title", 
        "authorNickname", "nickname", 
        "authorProfileImage", "profileImage"
    };
}