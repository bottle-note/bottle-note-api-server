## 요약(Summary)

> 이 문서는 리뷰 수정 기능을 구현하기 위해 작성된 테크스펙입니다.<br>
---------

## 목표(Goals)

- 리뷰 수정 API를 구현한다.
- 리뷰 수정 테스트코드를 구현한다.

---------

## 요구사항 정의

- 로그인 한 유저는 작성한 리뷰에 대하여 수정할 수 있다.
- 리뷰 수정 시 술의 ID를 필수로 입력해야 한다.(공백, Null값 허용 X)
- 데이터베이스에 존재하는 리뷰만 수정할 수 있다.
- 자신이 작성한 리뷰만 수정할 수 있다.
- 크게 리뷰내용, 위치정보, 술의 정보 3가지를 수정할 수 있다.
- 리뷰내용 (content, reviewStatus)
- 위치정보 (zipCode, address, detailAddress)
- 술의 정보(price, tastingTagList, sizeType)



### API  :  `PATCH /api/v1/reviews{reviewId}`

## 어떤 것을 요청해야 할까

    - RequestBody로 전달되는 매개변수
- 내용
- 잔/보틀 여부
- 가격
- 장소
    - 우편번호
    - 주소
    - 상세주소
- 테이스팅 태그
    - 작성된 태그 목록

## 어떤 것을 응답해야 할까
수정 된 리뷰 내용 전체를 반환합니다.
- 유저 아이디
- 유저 프로필(썸네일)
- 유저 닉네임

- 리뷰 아이디
- 리뷰가 준 별점
- 리뷰의 가격 정보
- 보틀 / 잔 여부
- 가격 (정수로만 , 기호 없이)
- 리뷰 좋아요 수
- 리뷰 댓글 수

- 나의 코멘트 여부
- 공개 여부
- 좋아요 여부
- 댓글 여부

- 썸네일
- 작성일


## 어떤 것을 검증해야 할까

- 수정하려고 하는 리뷰가 데이터베이스에 존재하는 리뷰인지
- 수정하려고 하는 리뷰가 현재 로그인한 사용자가 작성한 리뷰인지
- 수정을 요청한 리뷰 내용의 길이가 500자 이하인지?
- ReviewStatus와 SizeType의 값이 정의된 문자열로 요청이 들어왔는지 ?
    - (PUBLIC, STATUS), (BOTTLE, GLASS)
- price값이 정상적인 값인지? (음수의 값이 들어올 수 없음 or 비상식적으로 높은 값)
- 각 테이스팅 태그의 길이가 12자 이하인지? 중복을 제외하고 총 10개 이하인지 ?
- 테이스팅 태그에 비속어가 포함되지 않았는지? 중복 된 테이스팅 태그가 포함되지 않았는지?

### **Error Code**

- 400 : Bad Request
    - 잘못된 요청 , 필수 파라미터 누락
- 401 : Unauthorized
    - 인증되지 않은 사용자
- 404 : Not Found
    - 해당 id의 위스키가 존재하지 않음
    - 해당 id의 유저가 존재하지 않음
- 500 : Internal Server Error
    - 서버 에러 ( 서버 내부 로직 에러 )

------

---------

