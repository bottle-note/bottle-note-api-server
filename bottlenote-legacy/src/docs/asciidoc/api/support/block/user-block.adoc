=== 사용자 차단 관리 ===

사용자 간의 차단 관계를 관리하는 기능입니다. 
차단된 사용자와의 상호작용을 제한하여 사용자 경험을 보호합니다.

==== 차단 기능 개요 ====

* 특정 사용자를 차단하여 해당 사용자의 콘텐츠나 상호작용을 차단할 수 있습니다
* 차단된 사용자는 차단한 사용자의 콘텐츠에 접근하거나 상호작용할 수 없습니다
* 차단 관계는 일방향성이며, 상호 차단도 가능합니다

'''

==== 사용자 차단 ====

특정 사용자를 차단합니다.

[source]
----
POST /api/v1/blocks
----

[discrete]
===== 요청 파라미터 =====

include::{snippets}/block-create/request-fields.adoc[]

[discrete]
===== 응답 파라미터 =====

include::{snippets}/block-create/response-fields.adoc[]

차단 완료 후 현재 사용자가 차단한 모든 사용자 목록을 반환합니다.

'''

==== 차단 해제 ====

차단한 사용자를 해제합니다.

[source]
----
DELETE /api/v1/blocks/{blockedUserId}
----

[discrete]
===== 경로 파라미터 =====

include::{snippets}/block-delete/path-parameters.adoc[]

[discrete]
===== 응답 파라미터 =====

include::{snippets}/block-delete/response-fields.adoc[]

차단 해제 후 현재 사용자가 차단한 모든 사용자 목록을 반환합니다.

'''

==== 차단 목록 조회 ====

현재 사용자가 차단한 사용자들의 상세 정보를 조회합니다.

[source]
----
GET /api/v1/blocks
----

[discrete]
===== 응답 파라미터 =====

include::{snippets}/block-list/response-fields.adoc[]

각 차단된 사용자의 ID, 이름, 차단 시각 정보를 포함합니다.

'''

==== 차단 사용자 ID 목록 조회 ====

빠른 차단 여부 확인을 위해 차단된 사용자 ID만 조회합니다.

[source]
----
GET /api/v1/blocks/ids
----

[discrete]
===== 응답 파라미터 =====

include::{snippets}/block-ids/response-fields.adoc[]

클라이언트에서 빠른 필터링이나 권한 체크에 사용할 수 있습니다.

'''

==== 차단 여부 확인 ====

특정 사용자가 차단되었는지 확인합니다.

[source]
----
GET /api/v1/blocks/check/{targetUserId}
----

[discrete]
===== 경로 파라미터 =====

include::{snippets}/block-check/path-parameters.adoc[]

[discrete]
===== 응답 파라미터 =====

include::{snippets}/block-check/response-fields.adoc[]

'''

==== 상호 차단 여부 확인 ====

두 사용자가 서로 차단했는지 확인합니다.

[source]
----
GET /api/v1/blocks/mutual-check/{targetUserId}
----

[discrete]
===== 경로 파라미터 =====

include::{snippets}/block-mutual-check/path-parameters.adoc[]

[discrete]
===== 응답 파라미터 =====

include::{snippets}/block-mutual-check/response-fields.adoc[]

상호 차단 상태에서는 양쪽 모두 상대방의 콘텐츠에 접근할 수 없습니다.

'''

==== 차단 통계 조회 ====

===== 나를 차단한 사용자 수 =====

현재 사용자를 차단한 다른 사용자들의 수를 조회합니다.

[source]
----
GET /api/v1/blocks/stats/blocked-by-count
----

[discrete]
====== 응답 파라미터 ======

include::{snippets}/block-blocked-by-count/response-fields.adoc[]

===== 내가 차단한 사용자 수 =====

현재 사용자가 차단한 사용자들의 수를 조회합니다.

[source]
----
GET /api/v1/blocks/stats/blocking-count
----

[discrete]
====== 응답 파라미터 ======

include::{snippets}/block-blocking-count/response-fields.adoc[]

'''

==== 에러 코드 ====

차단 API 요청 시 발생할 수 있는 예외 상황입니다.

[cols="1,2,3",options="header"]
|===
| 코드 | 상황 | 설명

| 400
| 자기 자신을 차단하려는 경우
| 자기 자신은 차단할 수 없습니다.

| 400
| 이미 차단된 사용자를 다시 차단하려는 경우
| 이미 차단된 사용자입니다.

| 404
| 존재하지 않는 사용자를 차단하려는 경우
| 해당 사용자를 찾을 수 없습니다.

| 404
| 차단하지 않은 사용자를 해제하려는 경우
| 차단 관계가 존재하지 않습니다.

| 401
| 인증되지 않은 사용자
| 로그인이 필요합니다.
|===

** 추가되지 않은 에러 코드는 요청 바랍니다.
** Request validation에 대한 내용은 공통 예외를 통해 처리됩니다.